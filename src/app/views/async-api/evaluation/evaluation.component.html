<div>
  <div class="row">
    <div class="col d-flex justify-content-center">
      <h1>Welcome to the evaluation process, please read the instructions and remarks first!</h1>
    </div>
  </div>
  <div class="row">
    <div class="col d-flex justify-content-center">
      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>Task</mat-label>
        <mat-select [disabled]="taskService.TaskRunning" [formControl]="task">
          <mat-option *ngFor="let task of tasks" [value]="task">
            {{task.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <div class="row" *ngIf="task.value as task">
    <div class="col">
      <mat-card class="color-primary">
        <mat-card-header>
          <mat-card-title>{{task.name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          {{task.description}}
        </mat-card-content>
        <mat-card-actions align="end">
          <button *ngIf="!taskService.TaskRunning" mat-raised-button (click)="startTask(task)">Start</button>
          <ng-container *ngIf="taskService.TaskRunning">
            <button mat-raised-button color="warn" (click)="abortTask()">Abort</button>
            <button mat-raised-button (click)="startTask(task)">Continue</button>
          </ng-container>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <mat-card>
        <mat-card-content>
          Please read the following instructions the task carefully!
          <br><br>
          <ul>
          <li>The goal of this evaluation is to test three methods for formalizing mappings 
            of HTTP-Request and -Responses Mappings based on JSON-Attributes</li>
            <ul>
              <li>The "MANUAL" method is equivalent to implementing a software adpater</li>
              <li>The "TRANSFORMATION" method is reusing already present mappings stored in a knowledge base</li>
              <li>The "JSONLD" method is equivalent to using a standard for describing mappings</li>
            </ul>
          <li>The evaluation period will last from 04.05.2020 until 18.05.2020</li>
          <li>You may need longer for solving the tasks in the beginning. Expected for a task up to 20 minutes of workload
          </li>
          <li>Please familiarize yourself with the different views first.Therefore, please click on the views MANUAL/TRANSOFRMATION/JSONLD and select "GET EXAMPLE1" as a Mapping Source and "GET EXAMPLE 2" as a Mapping Target</li>
          <li>There are several depencendies when working on the tasks listed. These are defined as follows:</li>
          <br>
          <table style="width:100%; text-align:center;" border="1">
            <tr>
              <th>Taskname</th>
              <th>Dependend on</th>
              <th>Participant</th>
              <th>Inform next Participant</th>
            </tr>
            <tr>
              <td>MANUAL Phillips-Yeelight</td>
              <td>-</td>
              <td>Flavia</td>
              <th>-</th>
            </tr>
            <tr>
              <td>MANUAL Yeelight-lifx</td>
              <td>-</td>
              <td>Marius, Bogdan</td>
              <th>-</th>
            </tr>
            <tr>
              <td>MANUAL Phillips-Lifx</td>
              <td>-</td>
              <td>Peter, Raluca</td>
              <th>-</th>
            </tr>
            <tr>
              <td>TRANSFORMATION Phillips-Yeelight</td>
              <td>-</td>
              <td>Marius</td>
              <th>Andreea</th>
            </tr>
            <tr>
              <td>TRANSFORMATION Yeelight-Lifx</td>
              <td>-</td>
              <td>Flavia</td>
              <th>Andreea</th>
            </tr>
            <tr>
              <td>TRANSFORMATION Phillips-Lifx</td>
              <td>TRANSFORMATION Phillips-Yeelight and TRANSFORMATION Phillips-Lifx</td>
              <td>Andreea</td>
              <th>-</th>
            </tr>
            <tr>
              <td>JSONLD Phillips</td>
              <td>-</td>
              <td>Andreea</td>
              <th>Tobias, Bogdan</th>
            </tr>
            <tr>
              <td>JSONLD Yeelight</td>
              <td>-</td>
              <td>Raluca</td>
              <th>Tobias, Peter</th>
            </tr>
            <tr>
              <td>JSONLD Lifx</td>
              <td>-</td>
              <td>Tobias</td>
              <th>Bogdan, Peter</th>
            </tr>
            <tr>
              <td>JSONLD Phillips-Yeelight</td>
              <td>JSONLD Phillips and JSONLD Yeelight</td>
              <td>Tobias</td>
              <th>-</th>
            </tr>
            <tr>
              <td>JSONLD Phillips-Lifx</td>
              <td>JSONLD Phillips and JSONLD Lifx</td>
              <td>Bogdan</td>
              <th>-</th>
            </tr>
            <tr>
              <td>JSONLD Yeelight-Lifx</td>
              <td>JSONLD Yeelight and JSONLD Lifx</td>
              <td>Peter</td>
              <th>-</th>
            </tr>
          </table>
        </ul>
        Process of executing a Task:
        <br><br>
        <ol>
          <li>Choose the assigned tasks to your name indicated by "Participant" from the dropdown menu "Task"
          <ul>
            <li>If the colum "Dependend is not empty, you need to wait until you are informed by the other participant (e.g. via Discord, ..) 
            that they have finished their task</li>
            <li>If the colum "Inform next Participant" is not empty, please inform the mentioned participant (e.g. via Discord, ..)
              that the task has been finished.
            </li>
          </ul>
        </li>
          <li>Click on "Start"
          <ul>
            <li>MANUAL AND TRANSFORMATION Tasks</li>
            <ul>
              <li>Select pairs of attributes from the left and right by clicking on them based on your interpretation</li>
              <li>After selecting one attribute from each side, click on "Map Selceted"</li>
              <li>For Request Mappings, all attributes from the "Target Request Body" must be mapped</li>
              <li>For Response Mappings, all attributes from the "Source Response Body" must be mapped</li>
              <li>If some mappings are prefilled, you can reuse them immmediatly</li>
            </ul>
            <li>JSONLD Tasks</li>
            <ul>
              <li>You may need to textually specify the mappings using the JSONLD syntax prior to using the graphical mapping view</li>
              <li>For searching, please use  <a href="http://dbpedia.org/fct/" target="_blank">DBpedia</a> by using the Entity Label Lookup</li>
              <ul><li>You can identify the URL by clicking on the "JSON-LD" Logo at the bottom of the result page and copy and paste the @id field</li></ul>
              <li>If you cannot identify a desired item within the dbpedia.org vocabulary, you can also use any other knowledge base</li>
              <li>If you are seeing only one interface, you have to create a new JSON-LD file</li>
              <ul>
                <li>Only enter the JsonLd context without the enclosing @context</li>
                <li>Please "Store" the textual definitions everytime you make a change</li>
                <li>You can view all attributes in the "Interface Model Values" view</li>
              </ul>
              <li>If you are seeing two interfaces with JSON-LD description, you can execute try executiing the request directly
                <ul><li>You are not allowed to edit any JSON-LD deccriptions in this view</li></ul>
              </li>
              <li>Second, continue with the "Mapping" View</li>
              <li>All information from both JSON-LD descriptions are rendered into this view automatically if they can be parsed</li>
              <li>If you cannot find a suitable URL that fits your attribute, you can map the attributes similar to the MANUAL/TRANSFORMATION tasks as well</li>
            </ul>
          </ul>
        </li>
        <li>You can test your mapping at any time using the "Test Mapping" functionality 
          <ul>
            <li>By clicking on "Test Request" all available request mappings are applied to the "Source Request Body" and send to the "Maping Target"</li>
            <li>Similar, all available response mappings are applied to the repsonse from the "Mapping Target" </li>
            <li>You do not have to specify any input parameters</li>
            <li>If your mappings are correct, then you sould see a valid response with the attrbutes of the "Source Request Body" in the "Output Data" field</li>
          </ul>
        </li>
        <li>After you have mapped all required attirbutes, you can finish your task by clicking on Finish Mapping"
          <ul>
            <li>When the task is sucessfully finished, you will see a corresponding message. Please inform Fabian shortly in the Discord channel "supervisors"</li>
            <li>If there exist any error, then an Error-Message will be displayed at the bottom of the site</li>
          </ul>
        </li>
          <li>You can abort abort a task or reset the application at any time
          <ul>
            <li>In the "Task Overview", clicking on "Abort" may be required if you selcted the wrong task</li>
            <li>In the "Mapping Overview", clicking on "Reset" may be required if you cannot finish a task for any reason. Please send 
              a short notice to <a href="mailto:burzlaff@es.uni-mannheim.de">burzlaff@es.uni-mannheim.de</a> why you could not finish the task
            including the displayed error message
          </li>
          </ul>
        </li>
        </ol>
          Please note the following remarks for working with this prototype:
          <br><br>
          <ul>
          <li>You can navigate back to this overview page at any time by clicking on [BACK TO TASK OVERVIEW]</li>
          <li>You can open multiple tabs displaying different site content at the same time</li>
          <li>If you cannot find a button or other UI elements, try to scroll up and down</li>
          <li>Try not to use the refresh functionality of your browser (e.g. STRG+R). This may result in loss of unsaved work</li>
          <li>When you start a task, the time is measured automatically
          <li>You can also send any suggestions for improvements (e.g. annotated screenshot) at any 
            time to <a href="mailto:burzlaff@es.uni-mannheim.de">burzlaff@es.uni-mannheim.de</a></li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
